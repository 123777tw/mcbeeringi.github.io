<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>MceEringi QRgen</title>
	</head>
	<body>
		<style>
			:root{background-color:#222;color:#fff;font-family:sans-serif}
			a:link,a:visited{color:#aef;}a:hover{color:#8af;}a:active{color:#48f;}
			canvas{display:none;}
			img{width:100%;max-width:320px;height:auto;image-rendering:pixelated;image-rendering:crisp-edges;}
		</style>
		<script src="https://cdn.jsdelivr.net/npm/qrcode@1.4.4/build/qrcode.min.js"></script>
		<canvas id="qr"></canvas>
		<h1>QRgen</h1>
		<textarea id="txt">Hello World!</textarea><br>
		<input type="color" value="#000" id="cd"><input type="color" value="#ffffff" id="cl"><br>
		<input type="range" value="1" id="ecl" min="0" max="3" step="1"><br>
		<button onclick="main();">run</button>
		<hr>
		<pre id="log"></pre>
		<a id="qra"><img src="" alt="QRcode" width="1" height="1" id="qri"></a><br>
		Powerd by <a href="https://github.com/soldair/node-qrcode">node-qrcode</a>
		<script>
			const main=()=>QRCode.toDataURL(txt.value,{errorCorrectionLevel:['S','M','Q','L'][ecl.value],margin:4,scale:8,color:{dark:cd.value,light:cl.value}},(e,x)=>{if(e)log.textContent=e;qra.href=qri.src=x;qra.download=txt.value;});
			main();
		</script>
	</body>
</html>
