<html>
<head>
	<meta charset="utf-8">
	<title>McbeEringi brainf</title>
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
</head>
<body>
<style>
	:root{background:#222;color:#fff;font-family:monospace;}h1,h2{margin:4px;}
	#log{height:70px;overflow:scroll;background:#333;line-height:14px;padding:4px;}
	#inp{background:#333;padding:4px;}
	#mv{height:36px;overflow:scroll;white-space:nowrap;background:#333;position:relative;margin:2px;}
	#mv div,#mv p{width:32px;height:32px;margin:2px;border-radius:8px;}
	#mv div{position:absolute;top:0px;left:0;font-size:8px;transition:.07s;background:#46f;z-index:1;}
	#mv p{line-height:32px;vertical-align:top;text-align:center;display:inline-block;box-shadow:0 0 0 1px #888 inset;font-size:16px;z-index:2;position:relative;}
	table{background:#333;display:inline-block;vertical-align:top;}td{font-size:24px;}
	th:first-child{border-right:1px solid;height:43px}th:not(:first-child){border-bottom:1px solid;width:24px;}
</style>

<h1>brainf***</h1>
<div id="mv"><div></div><p>0</p></div>
<pre id="log"></pre>
<div id="slog"></div>
<button id="btn">run</button><button id="sbtn">stop</button> speed:<input type="range" id="spd" min="0" max="200" value="20">
<pre id="inp" contenteditable>
+++++++++[>+++++++++++<-]>++.
<+++++++++[>++<-]>+.
<+++++++++[>--<-]>-----.
<+++++++++[>+<-]>+++.
+++.----.-------.</pre><br>
<table>
	<tr><td></td><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
	<tr><th>00</th><td>␀</td><td>␁</td><td>␂</td><td>␃</td><td>␄</td><td>␅</td><td>␆</td><td>␇</td><td>␈</td><td>␉<br><span style="font-size:8px">(\t)</span></td></tr>
	<tr><th>01</th><td>␊<br><span style="font-size:8px">(\n)</span></td><td>␋</td><td>␌</td><td>␍</td><td>␎</td><td>␏</td><td>␐</td><td>␑</td><td>␒</td><td>␓</td></tr>
	<tr><th>02</th><td>␔</td><td>␕</td><td>␖</td><td>␗</td><td>␘</td><td>␙</td><td>␚</td><td>␛</td><td>␜</td><td>␝</td></tr>
	<tr><th>03</th><td>␞</td><td>␟</td><td>␠</td><td>!</td><td>"</td><td>#</td><td>$</td><td>%</td><td>&</td><td>'</td></tr>
	<tr><th>04</th><td>(</td><td>)</td><td>*</td><td>+</td><td>,</td><td>-</td><td>.</td><td>/</td><td>0</td><td>1</td></tr>
	<tr><th>05</th><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>:</td><td>;</td></tr>
	<tr><th>06</th><td><</td><td>=</td><td>></td><td>?</td><td>@</td><td>A</td><td>B</td><td>C</td><td>D</td><td>E</td></tr>
	<tr><th>07</th><td>F</td><td>G</td><td>H</td><td>I</td><td>J</td><td>K</td><td>L</td><td>M</td><td>N</td><td>O</td></tr>
	<tr><th>08</th><td>P</td><td>Q</td><td>R</td><td>S</td><td>T</td><td>U</td><td>V</td><td>W</td><td>X</td><td>Y</td></tr>
	<tr><th>09</th><td>Z</td><td>[</td><td>\</td><td>]</td><td>^</td><td>_</td><td>`</td><td>a</td><td>b</td><td>c</td></tr>
	<tr><th>10</th><td>d</td><td>e</td><td>f</td><td>g</td><td>h</td><td>i</td><td>j</td><td>k</td><td>l</td><td>m</td></tr>
	<tr><th>11</th><td>n</td><td>o</td><td>p</td><td>q</td><td>r</td><td>s</td><td>t</td><td>u</td><td>v</td><td>w</td></tr>
	<tr><th>12</th><td>x</td><td>y</td><td>z</td><td>{</td><td>|</td><td>}</td><td>~</td><td>␡</td><td></td><td></td></tr>
</table>
<table>
	<tr><td></td><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th></tr>
	<tr><th>13</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><th>14</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><th>15</th><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr>
	<tr><th>16</th><td style="font-size:8px">NBSP<br>(\s)</td><td>¡</td><td>¢</td><td>£</td><td>¤</td><td>¥</td><td>¦</td><td>§</td><td>¨</td><td>©</td></tr>
	<tr><th>17</th><td>ª</td><td>«</td><td>¬</td><td></td><td>®</td><td>¯</td><td>°</td><td>±</td><td>²</td><td>³</td></tr>
	<tr><th>18</th><td>´</td><td>µ</td><td>¶</td><td>·</td><td>¸</td><td>¹</td><td>º</td><td>»</td><td>¼</td><td>½</td></tr>
	<tr><th>19</th><td>¾</td><td>¿</td><td>À</td><td>Á</td><td>Â</td><td>Ã</td><td>Ä</td><td>Å</td><td>Æ</td><td>Ç</td></tr>
	<tr><th>20</th><td>È</td><td>É</td><td>Ê</td><td>Ë</td><td>Ì</td><td>Í</td><td>Î</td><td>Ï</td><td>Ð</td><td>Ñ</td></tr>
	<tr><th>21</th><td>Ò</td><td>Ó</td><td>Ô</td><td>Õ</td><td>Ö</td><td>×</td><td>Ø</td><td>Ù</td><td>Ú</td><td>Û</td></tr>
	<tr><th>22</th><td>Ü</td><td>Ý</td><td>Þ</td><td>ß</td><td>à</td><td>á</td><td>â</td><td>ã</td><td>ä</td><td>å</td></tr>
	<tr><th>23</th><td>æ</td><td>ç</td><td>è</td><td>é</td><td>ê</td><td>ë</td><td>ì</td><td>í</td><td>î</td><td>ï</td></tr>
	<tr><th>24</th><td>ð</td><td>ñ</td><td>ò</td><td>ó</td><td>ô</td><td>õ</td><td>ö</td><td>÷</td><td>ø</td><td>ù</td></tr>
	<tr><th>25</th><td>ú</td><td>û</td><td>ü</td><td>ý</td><td>þ</td><td>ÿ</td></tr>
</table>
<script>
btn.onclick=()=>{main(inp.innerText);btn.disabled=true;}
sbtn.onclick=()=>{if(btn.disabled)sbtn.disabled=true;}
const main=s=>{
	mv.innerHTML='<div></div><p>0</p>';
	log.innerText='';
	s=s.replace(/\n/g,'');
	slog.innerText=s;
	s=s.split('');
	console.log(s);
	var p=0,ps=0,m=[0],l=[];
	const render=()=>{
		mv.firstChild.style.left=`${36*p}px`;
		if(mv.childNodes.length-2<p)mv.appendChild(document.createElement('p'));
		mv.childNodes[p+1].innerText=m[p];
	}
	const post=()=>{btn.disabled=false;sbtn.disabled=false;}
	const core=()=>{
		switch(s[ps]){
			case'>':p++;ps++;break;
			case'<':p--;ps++;break;
			case'+':m[p]++;ps++;break;
			case'-':m[p]--;ps++;break;
			case'.':log.innerText+=String.fromCharCode(m[p]);ps++;break;
			case',':break;
			case'[':l.push(ps);ps++;break;
			case']':if(m[p]==0){l.pop(ps);ps++;break;}else{ps=l[l.length-1]+1;break;}
			default:ps++;break;
		}
		if(m[p]<0)m[p]=256-m[p];else if(255<m[p])m[p]=m[p]-256;
		if(m[p]==undefined)m[p]=0;
		render();
		if(ps==s.length || sbtn.disabled==true)post();
		else setTimeout(core,spd.value);
	};core();
}
</script>
</body>
</html>
