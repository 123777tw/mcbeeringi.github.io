<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>textarea</title>
	</head>
	<body>
		<style>
			:root,textarea{background:#222;color:#fff;}
			textarea{width:100%;height:256px;font-size:14px;line-height:16px;}
		</style>


		<textarea id="ta"></textarea>
		<button onclick="location.hash=encodeURIComponent(ta.value);copy(location.href);">save&amp;copy</button>
		<script>
			if(location.hash)ta.value=decodeURIComponent(location.hash.slice(1));
			function copy(str){
				var tmp=document.createElement("div");
				var pre=document.createElement("pre");
				pre.style.webkitUserSelect="auto";pre.style.userSelect="auto";
				tmp.appendChild(pre).textContent = str;
				var s=tmp.style;s.position="fixed";s.right="200%";
				document.body.appendChild(tmp);
				document.getSelection().selectAllChildren(tmp);
				var result=document.execCommand("copy");
				document.body.removeChild(tmp);
				return result;
			}
		</script>
	</body>
</html>