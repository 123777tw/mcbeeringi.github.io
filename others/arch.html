<!DOCTYPE html>
<html lang="jp">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0">
	<title>McbeEringi arch_calc</title>
	<link href="https://fonts.googleapis.com/css?family=Quicksand:400|Noto+Sans+JP&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="../main.css">
	<style>
		canvas{
			background: #444;
			color: #fff;
		}
	</style>
</head>

<body>
	<header id="H"></header>
	<p class="title">Arch Calc</p>

	<p align=center>アーチを描くツール 建築かなんかにどぞ</p>
	<div class="col1">
		<h2>input</h2>
		<p>
			幅　　：<input type="number" id="w" value="50" oninput="graph()"><br>
			高さ　：<input type="number" id="h" value="6" oninput="graph()"><br>
			解像度：<input type="range" id="r" value="10" min="1" max="100" step="1" oninput="graph()">
		</p>
	</div>
	<div class="col2" style="padding:2%;">
		<h3>円</h3>
		<div style="overflow: scroll;-webkit-overflow-scrolling: touch;">
			<canvas id="cir">jsがoffになっている,またはブラウザが対応していないようです…</canvas>
		</div>
		<h3>放物線(工事中)</h3>
		<div style="overflow: scroll;-webkit-overflow-scrolling: touch;">
			<canvas id="par">jsがoffになっている,またはブラウザが対応していないようです…</canvas>
		</div>
	</div>
	<footer id="F"></footer>
	<script src="../hf.js"></script>
	<script>
		window.onload = function(){graph();}
		function graph(){
			var res = document.getElementById("r").value*1;
			var cir = document.getElementById("cir");
			var par = document.getElementById("par");
			var w = document.getElementById("w").value*res;
			var h = document.getElementById("h").value*res;
			var w2 = w/2;
			cir.width=w;cir.height=h;
			par.width=w;par.height=h;
			if (cir.getContext) {
				var cir_c = cir.getContext('2d');
				var r = (w2*w2+h*h)/(2*h);
				cir_c.beginPath();
				cir_c.strokeStyle = "#fff";
				cir_c.arc(w2,r,r,0,3.14,true);
				//罫線
				cir_c.moveTo(res,0);for (var i = res; i < w; i+=res) {cir_c.lineTo(i,h);cir_c.moveTo(i+res,0);}
				cir_c.moveTo(0,res/2);for (var i = res/2; i < h; i+=res/2) {cir_c.lineTo(w,i);cir_c.moveTo(0,i+res/2);}
				//=*=*=
				cir_c.stroke();

				var par_c = par.getContext('2d');
				par_c.beginPath();
				par_c.strokeStyle = "#fff";
				par_c.moveTo(0,h);
				for (var i = 0; i < 64; i++) {
					par_c.lineTo(w,0);
				}
				//罫線
				par_c.moveTo(res,0);for (var i = res; i < w; i+=res) {par_c.lineTo(i,h);par_c.moveTo(i+res,0);}
				par_c.moveTo(0,res/2);for (var i = res/2; i < h; i+=res/2) {par_c.lineTo(w,i);par_c.moveTo(0,i+res/2);}
				//=*=*=
				par_c.stroke();
			}
		}
	</script>
</body>

</html>
