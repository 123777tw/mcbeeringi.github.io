<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8">
	<title>bmp</title>
	<style>
		* {color: #fff;}
		.flex {display:flex;overflow:hidden;}
		p {font-size:40px;margin:0;position:relative;bottom:0;}
		#disp {border:1px solid;}
		input{background-color:#0000;color:#fff;border:none;border-radius:0;border-bottom:2px solid #888;font-size:16px;width:12ex}
		input:focus{outline:none;border-bottom:2px solid #48f;transition:.5s;}
		@font-face {font-family:"custom";src:url(custom.ttf)format("truetype");}
	</style>
</head>

<body>
	画像サイズ<input id="imgs" type="number" value="800" onchange="ims();document.getElementById('imgs2').value=this.value/16;">px^2 = <output id="imgs2">50</output>px^2 per char<br>

	フォントサイズ<input id="fontsSl" type="range" value="42" min="1" max="100" step="0.5" oninput="document.getElementById('fonts').value=this.value;fos();">
	<input id="fonts" type="number" value="42" oninput="document.getElementById('fontsSl').value=this.value;fos()"><br>

	フォントオフセット<input id="fontoSl" type="range" value="0" min="0" max="50" step="1" oninput="document.getElementById('fonto').value=this.value;foo();">
	<input id="fonto" type="number" value="0" oninput="document.getElementById('fontoSl').value=this.value;foo()"><br>

	フォント名<input id="fontf" value="sans-serif" oninput="document.body.style.fontFamily=this.value" onchange="render();"> customを入力すると同じ階層のcustom.ttfが反映されます<br>
	<!--デフォルトのcustom.ttfは"8:51:22 pm"さんの"851tegaki_zatsu_normal_0883.ttf"を使用しています
		https://pm85122.onamae.jp/851fontpage.html-->

	区番号(2桁)<input id="men" value="00" onchange="bmp();"><br>

	<br>

	<a href="" id="glyph" download="welcome.png">save as glyph_xx.png</a><br>
	<br>
	<div id="disp">
		<div id="diffuse">
			<div class="flex">
				<p id="00">g</p>
				<p id="01">l</p>
				<p id="02">y</p>
				<p id="03">p</p>
				<p id="04">h</p>
				<p id="05">.</p>
				<p id="06">p</p>
				<p id="07">n</p>
				<p id="08">g</p>
				<p id="09"></p>
				<p id="0a"></p>
				<p id="0b"></p>
				<p id="0c"></p>
				<p id="0d"></p>
				<p id="0e"></p>
				<p id="0f"></p>
			</div>
			<div class="flex">
				<p id="10">g</p>
				<p id="11">e</p>
				<p id="12">n</p>
				<p id="13">e</p>
				<p id="14">r</p>
				<p id="15">a</p>
				<p id="16">t</p>
				<p id="17">o</p>
				<p id="18">r</p>
				<p id="19"></p>
				<p id="1a"></p>
				<p id="1b"></p>
				<p id="1c"></p>
				<p id="1d"></p>
				<p id="1e"></p>
				<p id="1f"></p>
			</div>
			<div class="flex">
				<p id="20"></p>
				<p id="21"></p>
				<p id="22"></p>
				<p id="23"></p>
				<p id="24"></p>
				<p id="25"></p>
				<p id="26"></p>
				<p id="27"></p>
				<p id="28"></p>
				<p id="29"></p>
				<p id="2a"></p>
				<p id="2b"></p>
				<p id="2c"></p>
				<p id="2d"></p>
				<p id="2e"></p>
				<p id="2f"></p>
			</div>
			<div class="flex">
				<p id="30">b</p>
				<p id="31">y</p>
				<p id="32"></p>
				<p id="33">@</p>
				<p id="34">M</p>
				<p id="35">c</p>
				<p id="36">b</p>
				<p id="37">e</p>
				<p id="38">E</p>
				<p id="39">r</p>
				<p id="3a">i</p>
				<p id="3b">n</p>
				<p id="3c">g</p>
				<p id="3d">i</p>
				<p id="3e"></p>
				<p id="3f"></p>
			</div>
			<div class="flex">
				<p id="40"></p>
				<p id="41"></p>
				<p id="42"></p>
				<p id="43"></p>
				<p id="44"></p>
				<p id="45"></p>
				<p id="46"></p>
				<p id="47"></p>
				<p id="48"></p>
				<p id="49"></p>
				<p id="4a"></p>
				<p id="4b"></p>
				<p id="4c"></p>
				<p id="4d"></p>
				<p id="4e"></p>
				<p id="4f"></p>
			</div>
			<div class="flex">
				<p id="50"></p>
				<p id="51"></p>
				<p id="52"></p>
				<p id="53"></p>
				<p id="54"></p>
				<p id="55"></p>
				<p id="56"></p>
				<p id="57"></p>
				<p id="58"></p>
				<p id="59"></p>
				<p id="5a"></p>
				<p id="5b"></p>
				<p id="5c"></p>
				<p id="5d"></p>
				<p id="5e"></p>
				<p id="5f"></p>
			</div>
			<div class="flex">
				<p id="60"></p>
				<p id="61"></p>
				<p id="62"></p>
				<p id="63"></p>
				<p id="64"></p>
				<p id="65"></p>
				<p id="66"></p>
				<p id="67"></p>
				<p id="68"></p>
				<p id="69"></p>
				<p id="6a"></p>
				<p id="6b"></p>
				<p id="6c"></p>
				<p id="6d"></p>
				<p id="6e"></p>
				<p id="6f"></p>
			</div>
			<div class="flex">
				<p id="70"></p>
				<p id="71"></p>
				<p id="72"></p>
				<p id="73"></p>
				<p id="74"></p>
				<p id="75"></p>
				<p id="76"></p>
				<p id="77"></p>
				<p id="78"></p>
				<p id="79"></p>
				<p id="7a"></p>
				<p id="7b"></p>
				<p id="7c"></p>
				<p id="7d"></p>
				<p id="7e"></p>
				<p id="7f"></p>
			</div>
			<div class="flex">
				<p id="80"></p>
				<p id="81"></p>
				<p id="82"></p>
				<p id="83"></p>
				<p id="84"></p>
				<p id="85"></p>
				<p id="86"></p>
				<p id="87"></p>
				<p id="88"></p>
				<p id="89"></p>
				<p id="8a"></p>
				<p id="8b"></p>
				<p id="8c"></p>
				<p id="8d"></p>
				<p id="8e"></p>
				<p id="8f"></p>
			</div>
			<div class="flex">
				<p id="90"></p>
				<p id="91"></p>
				<p id="92"></p>
				<p id="93"></p>
				<p id="94"></p>
				<p id="95"></p>
				<p id="96"></p>
				<p id="97"></p>
				<p id="98"></p>
				<p id="99"></p>
				<p id="9a"></p>
				<p id="9b"></p>
				<p id="9c"></p>
				<p id="9d"></p>
				<p id="9e"></p>
				<p id="9f"></p>
			</div>
			<div class="flex">
				<p id="a0"></p>
				<p id="a1"></p>
				<p id="a2"></p>
				<p id="a3"></p>
				<p id="a4"></p>
				<p id="a5"></p>
				<p id="a6"></p>
				<p id="a7"></p>
				<p id="a8"></p>
				<p id="a9"></p>
				<p id="aa"></p>
				<p id="ab"></p>
				<p id="ac"></p>
				<p id="ad"></p>
				<p id="ae"></p>
				<p id="af"></p>
			</div>
			<div class="flex">
				<p id="b0"></p>
				<p id="b1"></p>
				<p id="b2"></p>
				<p id="b3"></p>
				<p id="b4"></p>
				<p id="b5"></p>
				<p id="b6"></p>
				<p id="b7"></p>
				<p id="b8"></p>
				<p id="b9"></p>
				<p id="ba"></p>
				<p id="bb"></p>
				<p id="bc"></p>
				<p id="bd"></p>
				<p id="be"></p>
				<p id="bf"></p>
			</div>
			<div class="flex">
				<p id="c0"></p>
				<p id="c1"></p>
				<p id="c2"></p>
				<p id="c3"></p>
				<p id="c4"></p>
				<p id="c5"></p>
				<p id="c6"></p>
				<p id="c7"></p>
				<p id="c8"></p>
				<p id="c9"></p>
				<p id="ca"></p>
				<p id="cb"></p>
				<p id="cc"></p>
				<p id="cd"></p>
				<p id="ce"></p>
				<p id="cf"></p>
			</div>
			<div class="flex">
				<p id="d0"></p>
				<p id="d1"></p>
				<p id="d2"></p>
				<p id="d3"></p>
				<p id="d4"></p>
				<p id="d5"></p>
				<p id="d6"></p>
				<p id="d7"></p>
				<p id="d8"></p>
				<p id="d9"></p>
				<p id="da"></p>
				<p id="db"></p>
				<p id="dc"></p>
				<p id="dd"></p>
				<p id="de"></p>
				<p id="df"></p>
			</div>
			<div class="flex">
				<p id="e0"></p>
				<p id="e1"></p>
				<p id="e2"></p>
				<p id="e3"></p>
				<p id="e4"></p>
				<p id="e5"></p>
				<p id="e6"></p>
				<p id="e7"></p>
				<p id="e8"></p>
				<p id="e9"></p>
				<p id="ea"></p>
				<p id="eb"></p>
				<p id="ec"></p>
				<p id="ed"></p>
				<p id="ee"></p>
				<p id="ef"></p>
			</div>
			<div class="flex">
				<p id="f0"></p>
				<p id="f1"></p>
				<p id="f2"></p>
				<p id="f3"></p>
				<p id="f4"></p>
				<p id="f5"></p>
				<p id="f6"></p>
				<p id="f7"></p>
				<p id="f8"></p>
				<p id="f9"></p>
				<p id="fa"></p>
				<p id="fb"></p>
				<p id="fc"></p>
				<p id="fd"></p>
				<p id="fe"></p>
				<p id="ff"></p>
			</div>
		</div>
	</div>
	<!--↓img↓<br>
	<img id="img">-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
	<script>
		window.onload = ()=>{
			render();
			ims();
		}

		document.body.style.fontFamily = "sans-serif";

		function ims() {
			var imgs = document.getElementById("imgs").value;
			var disp = document.getElementById("disp");
			disp.style.width = imgs + "px";
			disp.style.height = imgs + "px";
			var p = document.getElementsByTagName("p");
			imgs /= 16;
			for (var i = 0; i < 256; i++) {
				p[i].style.width = imgs + "px";
				p[i].style.height = imgs + "px";
			}
			render();
		}

		function fos() {
			var p = document.getElementsByTagName("p");
			var fonts = document.getElementById("fonts").value;
			for (var i = 0; i < 256; i++) {
				p[i].style.fontSize = fonts + "px";
			}
			render();
		}

		function foo() {
			var p = document.getElementsByTagName("p");
			var fonto = document.getElementById("fonto").value;
			for (var i = 0; i < 256; i++) {
				p[i].style.bottom = fonto + "px";
			}
			render();
		}

		function bmp() {
			var p = document.getElementsByTagName("p");
			var men = document.getElementById("men").value;
			document.getElementById("glyph").download = "glyph_" + men + ".png"
			document.getElementById("glyph").innerText = "save as glyph_" + men + ".png"
			for (var i = 0; i < 256; i++) {
				p[i].innerHTML = unescape("%u" + men + p[i].id);
			}
			render();
		}

		function render() {
			document.body.style.background = "#0000";
			html2canvas(document.getElementById("diffuse"), {
				onrendered: (canvas)=>{
					var imgData = canvas.toDataURL();
					document.getElementById("glyph").href = imgData;
					//document.getElementById("img").src = imgData;
				}
			});
			document.body.style.background = "rgb(40, 44, 52)";
		}
	</script>
</body>

</html>
